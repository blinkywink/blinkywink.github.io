<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>just a monkey - blinkywink.co</title>
  <link rel="shortcut icon" href="../assets/images/darkicon.png" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <a href="../" class="logo">
        <img src="../assets/images/icon.png" alt="icon" class="logo-icon">
        <span class="logo-text">blinkywink.co</span>
      </a>
    </div>
  </header>

  <!-- Product Detail -->
  <main class="product-detail-page">
    <div class="product-detail-container">
      <a href="../" class="back-to-home">← Back to Home</a>
      <!-- Desktop Layout: Image in middle, info left, sizes/buttons right -->
      <div class="product-detail-grid">
        <!-- Left: Title, Price, Info -->
        <div class="product-info-left">
          <h1 class="product-title">just a monkey</h1>
          <p class="product-price-large">$25.00</p>
          <div class="product-description">
            <p>aren't we all?</p>
            <a href="#" class="size-chart-link" onclick="event.preventDefault(); showSizeChart();">size chart</a>
            <br>
            <ul>
              <li>true to size</li>
              <li>100% cotton</li>
              <li>6.1 oz/yd²</li>
            </ul>
          </div>
        </div>

        <!-- Middle: Product Image -->
        <div class="product-image-center">
          <img src="../assets/products/just a monkey.jpg" alt="just a monkey" class="product-main-image" onload="this.classList.add('loaded')">
        </div>

        <!-- Right: Sizes and Purchase Button -->
        <div class="product-actions-right">
          <div class="size-selector">
            <label>Size:</label>
            <div class="size-buttons">
              <button class="size-btn" data-size="S">S</button>
              <button class="size-btn active" data-size="M">M</button>
              <button class="size-btn" data-size="L">L</button>
              <button class="size-btn" data-size="XL">XL</button>
              <button class="size-btn" data-size="2XL">2XL</button>
            </div>
          </div>
          <a href="https://buy.stripe.com/aFabJ33Zr4Xy7MGdBeeQM04" id="purchase-btn" class="purchase-btn-large" target="_blank">Purchase</a>
        </div>
      </div>

      <!-- Mobile Layout: Stacked -->
      <div class="product-detail-mobile">
        <img src="../assets/products/just a monkey.jpg" alt="just a monkey" class="product-main-image-mobile" onload="this.classList.add('loaded')">
        <h1 class="product-title-mobile">just a monkey</h1>
        <p class="product-price-mobile">$25.00</p>
        <div class="size-selector-mobile">
          <label>Size:</label>
          <div class="size-buttons">
            <button class="size-btn" data-size="S">S</button>
            <button class="size-btn active" data-size="M">M</button>
            <button class="size-btn" data-size="L">L</button>
            <button class="size-btn" data-size="XL">XL</button>
            <button class="size-btn" data-size="2XL">2XL</button>
          </div>
        </div>
        <div class="product-buttons-mobile">
          <a href="https://buy.stripe.com/aFabJ33Zr4Xy7MGdBeeQM04" id="purchase-btn-mobile" class="purchase-btn-large" target="_blank">Purchase</a>
        </div>
        <div class="product-description-mobile">
          <p>aren't we all?</p>
          <a href="#" class="size-chart-link" onclick="event.preventDefault(); showSizeChart();">size chart</a>
          <br>
          <ul>
            <li>true to size</li>
            <li>100% cotton</li>
            <li>6.1 oz/yd²</li>
          </ul>
        </div>
      </div>
    </div>
  </main>

  <!-- Size Chart Popup -->
  <div id="size-chart-popup" class="size-chart-popup">
    <div class="size-chart-overlay"></div>
    <div class="size-chart-content">
      <button class="size-chart-close" onclick="closeSizeChart()">×</button>
      <img src="../assets/images/size.jpg" alt="Size chart diagram" class="size-chart-image">
      <div class="size-chart-toggle">
        <button id="inches-btn" class="size-chart-toggle-btn active" onclick="switchToInches()">Inches</button>
        <button id="cm-btn" class="size-chart-toggle-btn" onclick="switchToCm()">cm</button>
      </div>
      <div id="size-chart-table-container">
        <table class="size-chart-table" id="size-chart-table">
          <thead>
            <tr>
              <th>Size</th>
              <th>Width</th>
              <th>Length</th>
              <th>Sleeve Length</th>
            </tr>
          </thead>
          <tbody id="size-chart-tbody">
            <!-- Will be populated by JavaScript -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="../contact/" class="footer-link">Contact</a>
        <a href="../about/" class="footer-link">About</a>
      </div>
      <div class="footer-copyright">
        © blinkywink.co
      </div>
    </div>
  </footer>

  <script>
    // Size purchase links mapping
    const sizeLinks = {
      'S': 'https://buy.stripe.com/28EdRb7bDfCc0ke9kYeQM03',
      'M': 'https://buy.stripe.com/aFabJ33Zr4Xy7MGdBeeQM04',
      'L': 'https://buy.stripe.com/5kQaEZ53v75G7MG2WAeQM05',
      'XL': 'https://buy.stripe.com/4gM14p67z1Lm7MGeFieQM06',
      '2XL': 'https://buy.stripe.com/14A8wR53vahSeb4dBeeQM07'
    };

    // Handle size button clicks
    document.addEventListener('DOMContentLoaded', () => {
      const sizeButtons = document.querySelectorAll('.size-btn');
      const purchaseBtn = document.getElementById('purchase-btn');
      const purchaseBtnMobile = document.getElementById('purchase-btn-mobile');
      
      // Set initial purchase link (M is default/active)
      updatePurchaseLink('M');
      
      sizeButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          // Remove active class from all buttons
          sizeButtons.forEach(b => b.classList.remove('active'));
          // Add active class to clicked button
          btn.classList.add('active');
          
          // Get selected size and update purchase link
          const selectedSize = btn.getAttribute('data-size');
          updatePurchaseLink(selectedSize);
        });
      });
      
      function updatePurchaseLink(size) {
        const link = sizeLinks[size] || '/2';
        if (purchaseBtn) {
          purchaseBtn.href = link;
          // Open in new tab for external Stripe links
          if (link.startsWith('http')) {
            purchaseBtn.target = '_blank';
          } else {
            purchaseBtn.target = '_self';
          }
        }
        if (purchaseBtnMobile) {
          purchaseBtnMobile.href = link;
          // Open in new tab for external Stripe links
          if (link.startsWith('http')) {
            purchaseBtnMobile.target = '_blank';
          } else {
            purchaseBtnMobile.target = '_self';
          }
        }
      }
    });

    // Size chart data
    const sizeChartData = {
      inches: {
        headers: ['Size', 'Width (in)', 'Length (in)', 'Sleeve Length (in)'],
        rows: [
          ['S', '18.3', '28.0', '16.3'],
          ['M', '20.3', '29.4', '17.8'],
          ['L', '22.0', '30.8', '19.0'],
          ['XL', '24.0', '31.6', '20.5'],
          ['2XL', '26.0', '32.5', '21.8']
        ]
      },
      cm: {
        headers: ['Size', 'Width (cm)', 'Length (cm)', 'Sleeve Length (cm)'],
        rows: [
          ['S', '46.4', '71.1', '41.3'],
          ['M', '51.4', '74.6', '45.1'],
          ['L', '55.9', '78.1', '48.3'],
          ['XL', '61.0', '80.3', '52.1'],
          ['2XL', '66.0', '82.6', '55.3']
        ]
      }
    };

    let currentUnit = 'inches';

    function showSizeChart() {
      const popup = document.getElementById('size-chart-popup');
      if (popup) {
        popup.classList.add('active');
        renderSizeChart();
      }
    }

    function closeSizeChart() {
      const popup = document.getElementById('size-chart-popup');
      if (popup) {
        popup.classList.remove('active');
      }
    }

    function switchToInches() {
      currentUnit = 'inches';
      document.getElementById('inches-btn').classList.add('active');
      document.getElementById('cm-btn').classList.remove('active');
      renderSizeChart();
    }

    function switchToCm() {
      currentUnit = 'cm';
      document.getElementById('inches-btn').classList.remove('active');
      document.getElementById('cm-btn').classList.add('active');
      renderSizeChart();
    }

    function renderSizeChart() {
      const tbody = document.getElementById('size-chart-tbody');
      const thead = document.querySelector('.size-chart-table thead tr');
      const data = sizeChartData[currentUnit];
      
      if (tbody && thead && data) {
        // Update headers
        thead.innerHTML = `
          <th>${data.headers[0]}</th>
          <th>${data.headers[1]}</th>
          <th>${data.headers[2]}</th>
          <th>${data.headers[3]}</th>
        `;
        
        // Update rows
        tbody.innerHTML = data.rows.map(row => `
          <tr>
            <td>${row[0]}</td>
            <td>${row[1]}</td>
            <td>${row[2]}</td>
            <td>${row[3]}</td>
          </tr>
        `).join('');
      }
    }

    // Close popup when clicking overlay
    document.addEventListener('DOMContentLoaded', () => {
      const popup = document.getElementById('size-chart-popup');
      const overlay = popup?.querySelector('.size-chart-overlay');
      if (overlay) {
        overlay.addEventListener('click', closeSizeChart);
      }
    });
  </script>
</body>
</html>

